{"version":3,"sources":["Cursor.tsx","firebaseContext.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["useStyles","makeStyles","theme","createStyles","root","display","sizeBig","width","spacing","height","sizeSmall","Cursor","props","avatar","username","userCursorRef","classes","ref","className","style","position","overflow","Avatar","variant","src","alt","textAlign","defaultProps","shouldShowIsActive","FirebaseContext","React","createContext","getProfile","Promise","resolve","isSuccessful","setProfile","claim","prepareMint","fetchBase","FirebaseProvider","children","useCallback","address","a","fetch","method","catch","error","console","fetchRes","ok","json","headers","body","JSON","stringify","message","statusText","receiver","template","Provider","value","Tezos","TezosToolkit","wallet","BeaconWallet","name","preferblackNetwork","setWalletProvider","socketURL","window","location","hostname","socket","io","transports","dAppClient","DAppClient","MuiButton","color","styleOverrides","containedInherit","backgroundColor","variants","borderRadius","App","useContext","useState","activeAccount","setActiveAccount","synced","setSynced","showUnsync","setShowUnsync","isMobile","innerWidth","showPanel","setShowPanel","collections","setCollections","setUsername","setAvatar","createRef","setUserLocations","inputReceiver","setInputReceiver","inputMessage","setInputMessage","defaultPreviews","preview","setPreview","metadataUri","setMetadataUri","selectedTemplate","setSelectedTemplate","ownTemplate2","setOwnTemplate2","ownTemplate3","setOwnTemplate3","emit","useEffect","then","res","onCursorMove","clientId","clientProfile","x","y","innerHeight","absoluteX","absoluteY","userLocations","onRoomateDisconnect","newUserLocations","on","off","fetchGraphQL","operationsDoc","operationName","variables","query","result","ress","addr","query_collection","errors","data","hic_et_nunc_token_holder","fetchCollection","HashToURL","hash","type","undefined","replace","subdomain","ipfsClient","CID","toV1","toBaseEncodedString","err","getDomain","reverseRecord","domain","updateCursorPosition","useMemo","_","throttle","onMouseMove","event","clientX","clientY","current","left","top","addEventListener","query_objkt","getActiveAccount","clearActiveAccount","sync","log","requestPermissions","permissions","fetchObjkt","id","hic_et_nunc_token_by_pk","i","token_holders","length","holder_id","quantity","slice","getAcc","fontSize","alignItems","paddingTop","paddingLeft","padding","Button","size","title","textTransform","round","onClick","TextField","label","fullWidth","multiline","onChange","target","artifacthash","at","c","methods","mint_OBJKT","split","reduce","hex","charCodeAt","toString","padStart","send","amount","storageLimit","op","confirmation","tokenID","_operationResult","_events","metadata","internal_operation_results","parameters","args","int","contract","transfer","from_","txs","to_","token_id","overflowY","map","token","IconButton","display_uri","marginRight","justifyContent","unsync","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b7987fb3.chunk.js","sourcesContent":["// @ts-nocheck\nimport React from 'react';\nimport { makeStyles, Avatar, createStyles, Theme } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    sizeBig: {\n      width: theme.spacing(12),\n      height: theme.spacing(12),\n    },\n    sizeSmall: {\n      width: theme.spacing(6),\n      height: theme.spacing(6),\n    },\n  }),\n);\n\nexport const Cursor = (props) => {\n  const {\n    avatar,\n    username,\n    userCursorRef\n  } = props;\n  const classes = useStyles();\n  return (\n    <div ref={userCursorRef} className={props.className} style={{ position: \"absolute\", overflow: \"hidden\" }}>\n      <Avatar variant=\"rounded\" src={avatar} alt=\"change avatar\" className={classes.sizeSmall} />\n      <div style={{ textAlign: \"center\" }} >{username} </div>\n    </div>\n  );\n};\n\nCursor.defaultProps = {\n  shouldShowIsActive: true\n};\n\nexport const Cursors = (props) => {\n  const {\n    avatar,\n    x,\n    y,\n    username,\n  } = props;\n  const classes = useStyles();\n  return (\n    <div className={props.className} style={{ position: \"absolute\", top: (y), left: x, overflow: \"hidden\" }}>\n      <Avatar variant=\"rounded\" src={avatar} alt=\"change avatar\" className={classes.sizeSmall} />\n      <div style={{ textAlign: \"center\" }} >{username} </div>\n    </div>\n  );\n};\n\n","// @ts-nocheck\nimport React, { useCallback } from 'react';\n\n\nexport interface IFirebaseContext {\n\tgetProfile: (address: string) => Promise<IFetchResponseBase>;\n\tsetProfile: (address: string, username: string, avatar: string) => Promise<IFetchResponseBase>;\n\tclaim: (address: string) => Promise<IFetchResponseBase>;\n\tprepareMint: (address: string, receiver: string, message: string, template: number) => Promise<IFetchResponseBase>;\n}\n\nexport const FirebaseContext = React.createContext<IFirebaseContext>({\n\tgetProfile: () => Promise.resolve({ isSuccessful: false }),\n\tsetProfile: () => Promise.resolve({ isSuccessful: false }),\n\tclaim: () => Promise.resolve({ isSuccessful: false }),\n\tprepareMint: () => Promise.resolve({ isSuccessful: false }),\n});\n\n\n\nconst fetchBase =\n\tprocess.env.NODE_ENV === 'development'\n\t\t? 'http://localhost:8000'\n\t\t: 'https://supsup-server.herokuapp.com';\n\n\nexport const FirebaseProvider: React.FC = ({ children }) => {\n\t/*const { jwt } = useContext(JwtContext);\n\n\tconst  = useCallback(\n\t\t(path: string, request: Partial<RequestInit>) => {\n\t\t\treturn fetch(fetchBase + path, {\n\t\t\t\t...request,\n\t\t\t\theaders:\n\t\t\t\t\tjwt\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t...request.headers,\n\t\t\t\t\t\t\tAuthorization: 'Bearer ' + jwt\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t...request.headers\n\t\t\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t[jwt]\n\t);*/\n\n\n\n\n\tconst getProfile = useCallback(\n\t\tasync (address: string): Promise<IFetchResponseBase> => {\n\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/profile/${address}`, {\n\t\t\t\tmethod: 'GET'\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t});\n\n\t\t\tif (fetchRes && fetchRes.ok) {\n\t\t\t\treturn await fetchRes.json();\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\n\tconst setProfile = useCallback(\n\t\tasync (address: string, username: string, avatar: string): Promise<IFetchResponseBase> => {\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/profile/${address}`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ username: username, avatar: avatar })\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn { isSuccessful: true };\n\t\t\t}\n\n\t\t\treturn { isSuccessful: false, message: fetchRes.statusText };\n\t\t},\n\t\t[]\n\t);\n\n\tconst claim = useCallback(\n\t\tasync (address: string): Promise<IFetchResponseBase> => {\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/claim/${address}`, {\n\t\t\t\tmethod: 'GET'\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn await fetchRes.json();\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\n\tconst prepareMint = useCallback(\n\t\tasync (address: string, receiver: string, message: string, template: number): Promise<IFetchResponseBase> => {\n\t\t\tconst fetchRes = await fetch(fetchBase + `/users/prepareMint/${address}`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ receiver: receiver, message: message, template: template })\n\t\t\t});\n\n\t\t\tif (fetchRes.ok) {\n\t\t\t\treturn await fetchRes.json();\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\n\treturn (\n\t\t<FirebaseContext.Provider\n\t\t\tvalue={{\n\t\t\t\tgetProfile,\n\t\t\t\tsetProfile,\n\t\t\t\tclaim,\n\t\t\t\tprepareMint,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</FirebaseContext.Provider>\n\t);\n};\n","// @ts-nocheck\n\nimport \"./App.css\";\nimport React, {\n  useCallback,\n  useEffect,\n  useState,\n  useMemo,\n  useContext\n} from \"react\";\n\n//ui\nimport { Button, makeStyles, Avatar, IconButton, createStyles, Theme, TextField } from \"@material-ui/core\";\n\n//logic\nimport io from \"socket.io-client\";\nimport { DAppClient } from \"@airgap/beacon-sdk\";\nimport _ from \"underscore\";\nimport { Cursor, Cursors } from './Cursor';\nimport { FirebaseContext } from \"./firebaseContext\";\n\n//mint\nimport { TezosToolkit } from '@taquito/taquito'\nimport {\n  BeaconWallet\n} from '@taquito/beacon-wallet'\n\nconst Tezos = new TezosToolkit('https://mainnet.api.tez.ie')\nconst wallet = new BeaconWallet({\n  name: 'hicetnunc.xyz',\n  preferblackNetwork: 'mainnet',\n})\nTezos.setWalletProvider(wallet)\n\nconst socketURL =\n  window.location.hostname === \"localhost\"\n    ? \"ws://localhost:8000\"\n    : \"wss://peopleparty-server.herokuapp.com\";\n\nconst socket = io(socketURL, { transports: [\"websocket\"] });\nconst dAppClient = new DAppClient({ name: \"Beacon Docs\" });\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n\n    root: {\n      display: 'flex',\n    },\n    sizeBig: {\n      width: theme.spacing(12),\n      height: theme.spacing(12),\n    },\n    sizeSmall: {\n      width: theme.spacing(6),\n      height: theme.spacing(6),\n    },\n    MuiButton: {\n      defaultProps: {\n        variant: 'contained',\n        color: 'inherit'\n      },\n      styleOverrides: {\n        containedInherit: {\n          backgroundColor: '#fff'\n        }\n      },\n      variants: [\n        {\n          props: { variant: 'rounded' },\n          style: {\n            borderRadius: 14\n          }\n        },\n        {\n          props: { variant: 'rounded', color: 'primary' },\n          style: {\n            color: 'white',\n            backgroundColor: '#01697d'\n          }\n        }\n      ]\n    }\n  }),\n);\n\nfunction App() {\n\n  const classes = useStyles();\n  const { getProfile, setProfile, prepareMint } = useContext(FirebaseContext);\n\n  const [activeAccount, setActiveAccount] = useState();\n  const [synced, setSynced] = useState('sync');\n  const [showUnsync, setShowUnsync] = useState(false);\n  const isMobile = window.innerWidth <= 500;\n  const [showPanel, setShowPanel] = useState(false);\n  const [collections, setCollections] = useState([]);\n  const [username, setUsername] = useState(\"anon\");\n  const [avatar, setAvatar] = useState(\"https://ipfs.io/ipfs/QmVAiRHjVLPJYnf7jCpVeqrqRBE7HFN9nm5ZB2QSZ5BY52\");\n  const userCursorRef = React.createRef<HTMLDivElement>();\n  const [userLocations, setUserLocations] = useState({});\n  const [inputReceiver, setInputReceiver] = useState();\n  const [inputMessage, setInputMessage] = useState();\n  const [defaultPreviews, setDefaultPreviews] = useState([\"QmQegqLRTsMFvaBc9cr86gs3t3euKNbTx1MEnNQ5E1F6DT\", \"QmfXEWbw9XNu55AypNvbcjPPQGGr1HzF9cRGY39S5BrMCW\", \"QmPbLejKqhWZVCwyqp4rRDa4cXdrzSi1H6vXhLb6MMDG3H\"]);\n  const [preview, setPreview] = useState(\"QmQegqLRTsMFvaBc9cr86gs3t3euKNbTx1MEnNQ5E1F6DT\");\n  const [metadataUri, setMetadataUri] = useState();\n  const [selectedTemplate, setSelectedTemplate] = useState(0);\n  const [ownTemplate2, setOwnTemplate2] = useState(false);\n  const [ownTemplate3, setOwnTemplate3] = useState(false);\n\n  socket.emit('username', username);\n  socket.emit('avatar', avatar);\n\n  useEffect(() => {\n    getProfile(activeAccount ? activeAccount.address : \"\").then((res) => {\n      if (res) {\n        socket.emit('username', res.username);\n        socket.emit('avatar', res.avatar);\n        setUsername(res.username);\n        setAvatar(res.avatar);\n      }\n    });\n  }, [getProfile, activeAccount]);\n\n  const onCursorMove = useCallback(\n    function cursorMove(\n      clientId: string,\n      [x, y]: number[],\n      clientProfile: IUserProfile\n    ) {\n      const width = window.innerWidth;\n      const height = window.innerHeight;\n      const absoluteX = width * x;\n      const absoluteY = height * y;\n\n\n      setUserLocations((userLocations) => {\n        const newUserLocations = {\n          ...userLocations,\n          [clientId]: {\n            ...userLocations[clientId],\n            x: absoluteX,\n            y: absoluteY,\n            avatar: clientProfile.avatar,\n            username: clientProfile.name,\n          }\n        };\n        return newUserLocations;\n      });\n    },\n    []\n  );\n\n  useEffect(() => {\n    const onRoomateDisconnect = (clientId: string) => {\n      setUserLocations((userLocations) => {\n        const newUserLocations = {\n          ...userLocations\n        };\n        delete newUserLocations[clientId];\n\n        return newUserLocations;\n      });\n    };\n\n    socket.on('roommate disconnect', onRoomateDisconnect);\n    socket.on('cursor move', onCursorMove);\n    return () => {\n      socket.off('roomate disconnect', onRoomateDisconnect);\n      socket.off('cursor move', onCursorMove);\n    };\n  }, [onCursorMove]);\n\n  useEffect(() => {\n    async function fetchGraphQL(operationsDoc, operationName, variables) {\n      let result = await fetch('https://hdapi.teztools.io/v1/graphql', {\n        method: 'POST',\n        body: JSON.stringify({\n          query: operationsDoc,\n          variables: variables,\n          operationName: operationName,\n        }),\n      })\n\n      var ress = await result.json();\n      return ress;\n    }\n\n    async function fetchCollection(addr) {\n      const { errors, data } = await fetchGraphQL(\n        query_collection,\n        'collectorGallery',\n        { address: addr }\n      )\n      if (errors) {\n        console.error(errors)\n      }\n      const result = data ? data.hic_et_nunc_token_holder : null;\n      setCollections(result)\n      return result\n    }\n\n    if (activeAccount)\n      fetchCollection(activeAccount.address);\n  }, [activeAccount]);\n\n  const HashToURL = (hash, type) => {\n    // when on preview the hash might be undefined.\n    // its safe to return empty string as whatever called HashToURL is not going to be used\n    // artifactUri or displayUri\n    if (hash === undefined) {\n      return ''\n    }\n\n    switch (type) {\n      case 'HIC':\n        return hash.replace('ipfs://', 'https://pinata.hicetnunc.xyz/ipfs/')\n      case 'CLOUDFLARE':\n        return hash.replace('ipfs://', 'https://cloudflare-ipfs.com/ipfs/')\n      case 'PINATA':\n        return hash.replace('ipfs://', 'https://gateway.pinata.cloud/ipfs/')\n      case 'IPFS':\n        return hash.replace('ipfs://', 'https://ipfs.io/ipfs/')\n      case 'INFURA':\n        try {\n          var cidv1 = new ipfsClient.CID(hash.replace('ipfs://', '')).toV1()\n          var subdomain = cidv1.toBaseEncodedString('base32')\n          return `https://${subdomain}.ipfs.infura-ipfs.io/`\n        } catch (err) {\n          return undefined\n        }\n      case 'DWEB':\n        return hash.replace('ipfs://', 'http://dweb.link/ipfs/')\n      default:\n        console.error('please specify type')\n        return hash\n    }\n  }\n\n  //fetch wallet name if it exist for example, trydrum.tez\n  async function getDomain(address: string) {\n    let domain;\n    await fetch('https://api.tezos.domains/graphql', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        query: `\n            {\n              reverseRecord(address: \"`+ address + `\"){owner domain{name}}\n            }\n            `,\n        variables: {\n        },\n      }\n      ),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        if (result.data.reverseRecord) {\n          domain = result.data.reverseRecord.domain.name;\n          setSynced(domain);\n          setUsername(domain);\n        }\n      });\n  }\n\n  const updateCursorPosition = useMemo(\n    () =>\n      _.throttle((position: [number, number]) => {\n        socket.emit('cursor move', { x: position[0], y: position[1] });\n      }, 5),\n    []\n  );\n\n  const onMouseMove = useCallback(\n    (event: MouseEvent) => {\n      const x = event.clientX;\n      const y = event.clientY;\n\n      const width = window.innerWidth;\n      const height = window.innerHeight;\n\n      const relativeX = (x - 60) / width;\n      const relativeY = (y - 60) / height;\n\n      updateCursorPosition([relativeX, relativeY]);\n\n      if (userCursorRef.current) {\n        userCursorRef.current.style.left = x + 20 + 'px';\n        userCursorRef.current.style.top = y + 20 + 'px';\n      }\n    },\n    [updateCursorPosition, userCursorRef]\n  );\n\n  useEffect(() => {\n    window.addEventListener('mousemove', onMouseMove);\n  }, [onMouseMove]);\n\n\n\n  const query_objkt = `\n\tquery objkt($id: bigint!) {\n\t  hic_et_nunc_token_by_pk(id: $id) {\n\tid\n\tmime\n\ttimestamp\n\tdisplay_uri\n\tdescription\n\tartifact_uri\n\tmetadata\n\tcreator {\n\t  address\n\t  name\n\t}\n\tthumbnail_uri\n\ttitle\n\tsupply\n\troyalties\n\tswaps {\n\t  amount\n\t  amount_left\n\t  id\n\t  price\n\t  timestamp\n\t  creator {\n\t\taddress\n\t\tname\n\t  }\n\t  contract_version\n\t  status\n\t  royalties\n\t  creator_id\n\t  is_valid\n\t}\n\ttoken_holders(where: {quantity: {_gt: \"0\"}}) {\n\t  holder_id\n\t  quantity\n\t  holder {\n\t\tname\n\t  }\n\t}\n\ttoken_tags {\n\t  tag {\n\t\ttag\n\t  }\n\t}\n\ttrades(order_by: {timestamp: asc}) {\n\t  amount\n\t  swap {\n\t\tprice\n\t  }\n\t  seller {\n\t\taddress\n\t\tname\n\t  }\n\t  buyer {\n\t\taddress\n\t\tname\n\t  }\n\t  timestamp\n\t}\n\t}\n\t}\n\t`\n\n  useEffect(() => {\n\n    async function fetchGraphQL(operationsDoc, operationName, variables) {\n      let result = await fetch('https://hdapi.teztools.io/v1/graphql', {\n        method: 'POST',\n        body: JSON.stringify({\n          query: operationsDoc,\n          variables: variables,\n          operationName: operationName,\n        }),\n      })\n\n      var ress = await result.json();\n      return ress;\n    }\n\n    async function fetchObjkt(id) {\n\n      const { errors, data } = await fetchGraphQL(query_objkt, 'objkt', {\n        id: id\n      })\n      if (errors) {\n        console.error(errors)\n      }\n      if (data) {\n        const result = data.hic_et_nunc_token_by_pk\n        console.log(result);\n        //if its petshop show available pets\n        let address;\n        if (activeAccount)\n          address = activeAccount.address;\n        if (result)\n          for (let i = 0; i < result.token_holders.length; i++) {\n            if (result.token_holders[i].holder_id === address) {\n              return result.token_holders[i].quantity;\n            }\n          }\n\n        else\n          return;\n      }\n\n    }\n\n    fetchObjkt(535951).then(function (result) {\n      if (result > 0) {\n        setOwnTemplate2(true);\n      }\n    })\n\n    fetchObjkt(535914).then(function (result) {\n      if (result > 0) {\n        setOwnTemplate3(true);\n      }\n    })\n\n\n  }, [activeAccount]);\n\n  useEffect(() => {\n    async function getAcc() {\n      setActiveAccount(await dAppClient.getActiveAccount());\n      if (activeAccount) {\n        setSynced(activeAccount.address.slice(0, 6) + \"...\" + activeAccount.address.slice(32, 36));\n        setUsername(activeAccount.address.slice(0, 6) + \"...\" + activeAccount.address.slice(32, 36));\n        setShowUnsync(true);\n        getDomain(activeAccount.address);\n\n      }\n      else {\n        setSynced('sync');\n        setShowUnsync(false);\n      }\n    }\n    getAcc();\n  }, [activeAccount]);\n\n\n\n  async function unsync() {\n    setActiveAccount(await dAppClient.getActiveAccount())\n    if (activeAccount) {\n      // User already has account connected, everything is ready\n      dAppClient.clearActiveAccount().then(async () => {\n        setActiveAccount(await dAppClient.getActiveAccount())\n        setSynced('sync');\n        setUsername(\"anon\");\n        setShowUnsync(false);\n      });\n    }\n  }\n\n  async function sync() {\n    setActiveAccount(await dAppClient.getActiveAccount())\n    //Already connected\n    if (activeAccount) {\n      setSynced(activeAccount.address)\n      setShowUnsync(true);\n      getDomain(activeAccount.address);\n\n      return activeAccount;\n    }\n    // The user is not synced yet\n    else {\n      try {\n        console.log(\"Requesting permissions...\");\n        const permissions = await dAppClient.requestPermissions();\n        setActiveAccount(await dAppClient.getActiveAccount())\n        console.log(\"Got permissions:\", permissions.address);\n        setSynced(permissions.address)\n        setShowUnsync(true);\n\n        getDomain(permissions.address);\n\n      }\n      catch (error) {\n        console.log(\"Got error:\", error);\n      }\n    }\n  }\n\n  const onChangeReceiver = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setInputReceiver(event.target.value);\n  };\n\n  const onChangeMessage = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setInputMessage(event.target.value);\n  };\n\n\n  return (\n    <>\n      <Cursor avatar={avatar} userCursorRef={userCursorRef} username={username} />\n      <div style={{ height: isMobile ? \"92vh\" : \"100vh\" }} >\n        <div className=\"top-left\" style={{ fontSize: \"1.5em\", display: \"flex\", alignItems: \"center\", paddingTop: 10, paddingLeft: 10 }} >\n          <b>\n            Supmail 📫\n          </b>\n        </div>\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <div style={{ padding: 8, display: \"flex\", alignItems: \"center\" }}>\n            <Button size={isMobile ? \"small\" : \"medium\"} title={\"unsync\"} style={{ textTransform: 'none', borderRadius: 14 }}\n              variant={selectedTemplate === 0 ? \"containedPrimary\" : \"outlined\"}\n              round\n              onClick={() => {\n                setSelectedTemplate(0);\n                setPreview(defaultPreviews[0]);\n                setMetadataUri(\"\");\n              }}\n            >Template: free\n            </Button>\n          </div>\n          <div style={{ padding: 8, display: \"flex\", alignItems: \"center\" }}>\n            <Button size={isMobile ? \"small\" : \"medium\"} title={\"unsync\"} style={{ textTransform: 'none', borderRadius: 14 }}\n              variant={selectedTemplate === 1 ? \"containedPrimary\" : \"outlined\"}\n              round\n              onClick={() => {\n                if (ownTemplate2) {\n                  setSelectedTemplate(1);\n                  setPreview(defaultPreviews[1]);\n                  setMetadataUri(\"\");\n                } else {\n                  //buy message\n                }\n              }}\n            >Template 2\n            </Button>\n          </div>\n          <div style={{ padding: 8, display: \"flex\", alignItems: \"center\" }}>\n            <Button size={isMobile ? \"small\" : \"medium\"} title={\"unsync\"} style={{ textTransform: 'none', borderRadius: 14 }}\n              variant={selectedTemplate === 2 ? \"containedPrimary\" : \"outlined\"}\n              round\n              onClick={() => {\n                if (ownTemplate3) {\n                  setSelectedTemplate(2);\n                  setPreview(defaultPreviews[2]);\n                  setMetadataUri(\"\");\n                }\n                else {\n                  //buy message\n\n                }\n              }}\n            >Template 3\n            </Button>\n          </div>\n        </div>\n        <div style={{ padding: 8 }}>\n          {preview && <div>\n            <iframe src={'https://ipfs.io/ipfs/' + preview} title={\"preview\"} width={\"100%\"} height={isMobile ? 320 : 520}></iframe>\n          </div>}\n          <div style={{ padding: 5 }}>\n            <TextField\n              id=\"standard-basic\"\n              label=\"Message\"\n              variant=\"outlined\"\n              fullWidth\n              multiline\n              value={inputMessage}\n              onChange={onChangeMessage}\n            />\n          </div>\n\n          <div style={{ padding: 5 }}>\n            <TextField\n              id=\"standard-basic\"\n              label=\"Send to\"\n              variant=\"outlined\"\n              fullWidth\n              value={inputReceiver}\n              onChange={onChangeReceiver}\n            />\n          </div>\n\n          <div style={{ padding: 5 }}>\n            {!metadataUri && <Button size={isMobile ? \"small\" : \"medium\"} title={\"unsync\"} style={{ textTransform: 'none', borderRadius: 14, width: \"100%\" }}\n              variant=\"containedPrimary\"\n              onClick={async () => {\n                let res = await prepareMint(activeAccount.address, inputReceiver, inputMessage, selectedTemplate);\n                setMetadataUri(res.metadataUri);\n                setPreview(res.artifacthash);\n              }} >Preview  </Button>\n            }\n            {metadataUri &&\n              <Button size={isMobile ? \"small\" : \"medium\"} title={\"unsync\"} variant=\"containedPrimary\" style={{ textTransform: 'none', borderRadius: 14, width: \"100%\" }}\n                onClick={async () => {\n                  //mint\n                  await Tezos.wallet\n                    .at(\"KT1Hkg5qeNhfwpKW4fXvq7HGZB9z2EnmCCA9\")\n                    .then((c) =>\n                      c.methods\n                        .mint_OBJKT(\n                          activeAccount.address,\n                          1,\n                          (metadataUri)\n                            .split('')\n                            .reduce(\n                              (hex, c) =>\n                                (hex += c.charCodeAt(0).toString(16).padStart(2, '0')),\n                              ''\n                            ),\n                          100\n                        )\n                        .send({ amount: 0, storageLimit: 310 })\n                    )\n                    .then((op) =>\n                      op.confirmation(1).then(async () => {\n                        console.log(op)\n                        let tokenID = op._operationResult._events[0][0].metadata.internal_operation_results[0].parameters.value.args[1].args[0].int;\n                        const contract = await Tezos.wallet.at(\n                          \"KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton\"\n                        );\n\n                        const result = await contract.methods\n                          .transfer([\n                            {\n                              from_: activeAccount.address,\n                              txs: [\n                                {\n                                  to_: inputReceiver,\n                                  token_id: tokenID,\n                                  amount: 1,\n                                },\n                              ],\n                            },\n                          ])\n                          .send();\n                        console.log(result);\n\n                      })\n                    )\n                    .catch((err) => {\n                      // if any error happens\n                      console.log(err)\n                    })\n                  //send\n\n\n\n                }} > 📮 Mint &amp; Send</Button>}\n          </div>\n\n\n\n        </div>\n\n        <div className=\"bottom\" style={{ position: \"absolute\" }} >\n          <div   >\n            {showPanel &&\n              <div className=\"panel\" style={{ display: \"flex\", width: \"100%\", overflowY: \"auto\" }}>\n                {collections &&\n                  collections.map(({ token }) => (\n                    <IconButton\n                      key={token.id}\n                      onClick={() => {\n                        setAvatar(HashToURL(token.display_uri, 'IPFS'));\n                        socket.emit('avatar', HashToURL(token.display_uri, 'IPFS'));\n                        setProfile(activeAccount.address, username, HashToURL(token.display_uri, 'IPFS'));\n                      }}\n                    >\n                      <Avatar variant=\"rounded\" src={HashToURL(token.display_uri, 'IPFS')} alt={token.id} className={classes.sizeBig} />\n\n                    </IconButton>\n                  ))\n                }\n              </div>\n            }\n          </div>\n          <div style={{ display: \"flex\" }}>\n            <div style={{ marginRight: \"auto\" }}>\n              <Button title={\"Adventure Networks\"} size={isMobile ? \"small\" : \"medium\"} onClick={async () => {\n              }} >  <div style={{ textAlign: \"left\" }}> Adventure <br></br>Networks </div> </Button>\n            </div>\n\n            <div style={{ display: \"flex\", alignItems: \"end\", justifyContent: \"flex-end\" }}>\n\n              <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"flex-end\" }}>\n\n\n                {showUnsync && <Button size={isMobile ? \"small\" : \"medium\"} title={\"unsync\"} onClick={() => { unsync() }} ><u>unsync</u> </Button>}\n\n                {showUnsync && <div> | </div>}\n                <Button title={\"sync\"} size={isMobile ? \"small\" : \"medium\"} onClick={async () => { await sync(); }} ><u>{synced}</u> </Button>\n                {showUnsync && <><div> | </div>\n                  <Button size={isMobile ? \"small\" : \"medium\"} title={\"unsync\"} onClick={() => { setShowPanel(!showPanel) }} >\n                    <Avatar variant=\"rounded\" src={avatar} alt=\"change avatar\" className={classes.sizeSmall} />\n                  </Button>\n                </>\n                }\n              </div>\n\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </>\n  );\n}\n\nexport default App;\n\nconst query_collection = `\nquery collectorGallery($address: String!) {\n  hic_et_nunc_token_holder(where: {holder_id: {_eq: $address}, token: {creator: {address: {_neq: $address}}}, quantity: {_gt: \"0\"}}, order_by: {token_id: desc}) {\n\ttoken {\n\t  id\n\t  artifact_uri\n\t  display_uri\n\t  thumbnail_uri\n\t  timestamp\n\t  mime\n\t  title\n\t  description\n\t  supply\n\t  royalties\n\t  creator {\n\t\taddress\n\t  }\n\t}\n  }\n}\n`","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import \"./index.css\";\n\nimport App from \"./App\";\nimport { FirebaseProvider } from \"./firebaseContext\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <FirebaseProvider>\n    <App />\n  </FirebaseProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}